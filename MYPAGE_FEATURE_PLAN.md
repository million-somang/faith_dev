# ë§ˆì´í˜ì´ì§€ ê°œì¸ ì €ì¥ ì‚¬í•­ êµ¬í˜„ í”Œëœ

## ğŸ“‹ ëª©í‘œ
ë§ˆì´í˜ì´ì§€ì—ì„œ ê° ë©”ë‰´(ë‰´ìŠ¤, ì£¼ì‹, ìœ í‹¸, ê²Œì„)ë³„ë¡œ ì‚¬ìš©ì ê°œì¸ ì €ì¥ ì‚¬í•­ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ êµ¬í˜„

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ë‰´ìŠ¤ ì„¹ì…˜
- **êµ¬ë… í‚¤ì›Œë“œ ê´€ë¦¬**: ì‚¬ìš©ìê°€ ê´€ì‹¬ ìˆëŠ” í‚¤ì›Œë“œë¥¼ êµ¬ë…
- **êµ¬ë… í‚¤ì›Œë“œë³„ ë‰´ìŠ¤ í‘œì‹œ**: ê° í‚¤ì›Œë“œì— í•´ë‹¹í•˜ëŠ” ë‰´ìŠ¤ë¥¼ ë³„ë„ë¡œ ê·¸ë£¹í™”í•˜ì—¬ í‘œì‹œ
- **ë¶ë§ˆí¬ ê¸°ëŠ¥**: ì¤‘ìš”í•œ ë‰´ìŠ¤ë¥¼ ì €ì¥
- **ì½ìŒ í‘œì‹œ**: ì½ì€ ë‰´ìŠ¤ì™€ ì•ˆ ì½ì€ ë‰´ìŠ¤ êµ¬ë¶„

### 2. ì£¼ì‹ ì„¹ì…˜ â­ NEW
- **ê´€ì‹¬ ì¢…ëª© ê´€ë¦¬**: ì‚¬ìš©ìê°€ ê´€ì‹¬ ìˆëŠ” ì£¼ì‹ ì¢…ëª©ì„ ì¶”ê°€/ì‚­ì œ
- **ì‹¤ì‹œê°„ ê°€ê²© í‘œì‹œ**: ê´€ì‹¬ ì¢…ëª©ì˜ í˜„ì¬ê°€, ë“±ë½ë¥ , ê±°ë˜ëŸ‰ í‘œì‹œ
- **ë¯¸ë‹ˆ ì°¨íŠ¸**: ê° ì¢…ëª©ì˜ ê°„ë‹¨í•œ ê°€ê²© ì¶”ì´ ì°¨íŠ¸
- **ì•Œë¦¼ ì„¤ì •**: ëª©í‘œê°€ ë„ë‹¬ ì‹œ ì•Œë¦¼ (í–¥í›„ êµ¬í˜„)
- **ë©”ëª¨ ê¸°ëŠ¥**: ì¢…ëª©ë³„ íˆ¬ì ë©”ëª¨ ë° ì „ëµ ê¸°ë¡
- **í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„**: ê´€ì‹¬ ì¢…ëª©ì˜ ì „ì²´ ìˆ˜ìµë¥ , í‰ê·  ë“±ë½ë¥  ë“±

### 3. ê²Œì„ ì„¹ì…˜
- **ê²Œì„ ì ìˆ˜ ê¸°ë¡**: ì‚¬ìš©ìê°€ í”Œë ˆì´í•œ ê²Œì„ì˜ ì ìˆ˜ ì €ì¥
- **ìˆœìœ„ í‘œì‹œ**: ì „ì²´ ì‚¬ìš©ì ì¤‘ ìˆœìœ„ í‘œì‹œ (ì˜ˆ: ìƒìœ„ 5%, 10ìœ„)
- **ê²Œì„ë³„ í†µê³„**: ìµœê³  ì ìˆ˜, í‰ê·  ì ìˆ˜, í”Œë ˆì´ íšŸìˆ˜
- **ìµœê·¼ í”Œë ˆì´ ê¸°ë¡**: ìµœê·¼ í”Œë ˆì´í•œ ê²Œì„ ëª©ë¡

### 4. ìœ í‹¸ ì„¹ì…˜
- **ê³„ì‚°ê¸° íˆìŠ¤í† ë¦¬**: í™˜ìœ¨/í†µí™” ê³„ì‚° ê¸°ë¡
- **ì¦ê²¨ì°¾ê¸° ë„êµ¬**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ìœ í‹¸ë¦¬í‹° ë°”ë¡œê°€ê¸°
- **ì„¤ì • ê°’ ì €ì¥**: ì‚¬ìš©ìê°€ ì„¤ì •í•œ ê¸°ë³¸ê°’ (ì˜ˆ: ê¸°ë³¸ í†µí™”, í™˜ìœ¨ ê¸°ì¤€)

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 1. ì‚¬ìš©ì í‚¤ì›Œë“œ êµ¬ë… í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_keyword_subscriptions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  keyword TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(user_id, keyword)
);

CREATE INDEX idx_user_keyword_subscriptions_user_id ON user_keyword_subscriptions(user_id);
```

### 2. ë‰´ìŠ¤ ë¶ë§ˆí¬ í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_news_bookmarks (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  news_id INTEGER NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (news_id) REFERENCES news(id) ON DELETE CASCADE,
  UNIQUE(user_id, news_id)
);

CREATE INDEX idx_user_news_bookmarks_user_id ON user_news_bookmarks(user_id);
CREATE INDEX idx_user_news_bookmarks_news_id ON user_news_bookmarks(news_id);
```

### 3. ë‰´ìŠ¤ ì½ìŒ ê¸°ë¡ í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_news_read (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  news_id INTEGER NOT NULL,
  read_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (news_id) REFERENCES news(id) ON DELETE CASCADE,
  UNIQUE(user_id, news_id)
);

CREATE INDEX idx_user_news_read_user_id ON user_news_read(user_id);
```

### 4. ê²Œì„ ì ìˆ˜ ê¸°ë¡ í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_game_scores (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  game_type TEXT NOT NULL, -- 'tetris', 'snake', '2048', etc.
  score INTEGER NOT NULL,
  game_data TEXT, -- JSON format for additional game data
  played_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_user_game_scores_user_id ON user_game_scores(user_id);
CREATE INDEX idx_user_game_scores_game_type ON user_game_scores(game_type);
CREATE INDEX idx_user_game_scores_score ON user_game_scores(score DESC);
```

### 5. ìœ í‹¸ ì„¤ì • í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_util_settings (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  setting_key TEXT NOT NULL, -- 'default_currency', 'favorite_tools', etc.
  setting_value TEXT NOT NULL, -- JSON format
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(user_id, setting_key)
);

CREATE INDEX idx_user_util_settings_user_id ON user_util_settings(user_id);
```

### 6. ìœ í‹¸ ì‚¬ìš© íˆìŠ¤í† ë¦¬ í…Œì´ë¸”
```sql
CREATE TABLE IF NOT EXISTS user_util_history (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  util_type TEXT NOT NULL, -- 'exchange_rate', 'calculator', etc.
  input_data TEXT NOT NULL, -- JSON format
  result_data TEXT, -- JSON format
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_user_util_history_user_id ON user_util_history(user_id);
CREATE INDEX idx_user_util_history_util_type ON user_util_history(util_type);
```

### 7. ì‚¬ìš©ì ê´€ì‹¬ ì£¼ì‹ í…Œì´ë¸” â­ NEW
```sql
CREATE TABLE IF NOT EXISTS user_watchlist_stocks (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  stock_symbol TEXT NOT NULL, -- 'AAPL', '005930.KS', etc.
  stock_name TEXT NOT NULL, -- 'Apple Inc.', 'ì‚¼ì„±ì „ì', etc.
  market_type TEXT NOT NULL, -- 'US', 'KR', etc.
  target_price REAL, -- ëª©í‘œê°€ (ì„ íƒì‚¬í•­)
  memo TEXT, -- ì¢…ëª© ë©”ëª¨
  added_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE(user_id, stock_symbol)
);

CREATE INDEX idx_user_watchlist_stocks_user_id ON user_watchlist_stocks(user_id);
CREATE INDEX idx_user_watchlist_stocks_symbol ON user_watchlist_stocks(stock_symbol);
```

### 8. ì£¼ì‹ ê°€ê²© ì•Œë¦¼ í…Œì´ë¸” â­ NEW
```sql
CREATE TABLE IF NOT EXISTS user_stock_alerts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  stock_symbol TEXT NOT NULL,
  alert_type TEXT NOT NULL, -- 'above' (ì´ìƒ), 'below' (ì´í•˜)
  target_price REAL NOT NULL,
  is_triggered BOOLEAN DEFAULT 0,
  triggered_at DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_user_stock_alerts_user_id ON user_stock_alerts(user_id);
CREATE INDEX idx_user_stock_alerts_symbol ON user_stock_alerts(stock_symbol);
CREATE INDEX idx_user_stock_alerts_triggered ON user_stock_alerts(is_triggered);
```

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„

### ë‰´ìŠ¤ ê´€ë ¨ API

#### 1. í‚¤ì›Œë“œ êµ¬ë… ê´€ë¦¬
```typescript
// í‚¤ì›Œë“œ êµ¬ë… ì¶”ê°€
POST /api/user/keywords
Body: { keyword: string }
Response: { success: boolean, message: string }

// êµ¬ë… í‚¤ì›Œë“œ ëª©ë¡ ì¡°íšŒ
GET /api/user/keywords
Response: { 
  success: boolean, 
  keywords: Array<{ id: number, keyword: string, created_at: string }> 
}

// í‚¤ì›Œë“œ êµ¬ë… ì‚­ì œ
DELETE /api/user/keywords/:keywordId
Response: { success: boolean, message: string }
```

#### 2. ë‰´ìŠ¤ ë¶ë§ˆí¬
```typescript
// ë¶ë§ˆí¬ ì¶”ê°€
POST /api/user/bookmarks
Body: { news_id: number }
Response: { success: boolean, message: string }

// ë¶ë§ˆí¬ ëª©ë¡ ì¡°íšŒ
GET /api/user/bookmarks?page=1&limit=20
Response: {
  success: boolean,
  bookmarks: Array<{
    id: number,
    news_id: number,
    title: string,
    content: string,
    category: string,
    created_at: string,
    bookmarked_at: string
  }>,
  total: number,
  page: number,
  limit: number
}

// ë¶ë§ˆí¬ ì‚­ì œ
DELETE /api/user/bookmarks/:newsId
Response: { success: boolean, message: string }
```

#### 3. êµ¬ë… í‚¤ì›Œë“œë³„ ë‰´ìŠ¤ ì¡°íšŒ
```typescript
GET /api/user/news/by-keyword?keyword=AI&page=1&limit=10
Response: {
  success: boolean,
  keyword: string,
  news: Array<{
    id: number,
    title: string,
    content: string,
    category: string,
    created_at: string,
    is_read: boolean,
    is_bookmarked: boolean
  }>,
  total: number,
  page: number,
  limit: number
}
```

#### 4. ì½ìŒ í‘œì‹œ
```typescript
// ë‰´ìŠ¤ë¥¼ ì½ìŒìœ¼ë¡œ í‘œì‹œ
POST /api/user/news/read
Body: { news_id: number }
Response: { success: boolean, message: string }

// ì½ì€ ë‰´ìŠ¤ ëª©ë¡ ì¡°íšŒ
GET /api/user/news/read?page=1&limit=20
Response: {
  success: boolean,
  news: Array<{...}>,
  total: number
}
```

### ê²Œì„ ê´€ë ¨ API

#### 1. ê²Œì„ ì ìˆ˜ ì €ì¥
```typescript
POST /api/user/games/scores
Body: {
  game_type: 'tetris' | 'snake' | '2048',
  score: number,
  game_data?: object
}
Response: {
  success: boolean,
  message: string,
  rank: number, // ì „ì²´ ìˆœìœ„
  percentile: number // ìƒìœ„ ëª‡ %
}
```

#### 2. ê²Œì„ í†µê³„ ì¡°íšŒ
```typescript
GET /api/user/games/stats
Response: {
  success: boolean,
  stats: {
    tetris: {
      best_score: number,
      average_score: number,
      play_count: number,
      rank: number,
      percentile: number,
      last_played: string
    },
    snake: {...},
    2048: {...}
  }
}
```

#### 3. ê²Œì„ ê¸°ë¡ ì¡°íšŒ
```typescript
GET /api/user/games/history?game_type=tetris&page=1&limit=10
Response: {
  success: boolean,
  game_type: string,
  history: Array<{
    id: number,
    score: number,
    played_at: string,
    rank_at_time: number // ë‹¹ì‹œ ìˆœìœ„
  }>,
  total: number
}
```

#### 4. ë¦¬ë”ë³´ë“œ ì¡°íšŒ
```typescript
GET /api/games/leaderboard?game_type=tetris&limit=100
Response: {
  success: boolean,
  game_type: string,
  leaderboard: Array<{
    rank: number,
    user_id: number,
    user_name: string,
    score: number,
    played_at: string,
    is_current_user: boolean
  }>,
  user_rank: number, // í˜„ì¬ ì‚¬ìš©ì ìˆœìœ„
  total_players: number
}
```

### ìœ í‹¸ ê´€ë ¨ API

#### 1. ìœ í‹¸ ì„¤ì • ê´€ë¦¬
```typescript
// ì„¤ì • ì €ì¥/ì—…ë°ì´íŠ¸
POST /api/user/utils/settings
Body: {
  setting_key: string,
  setting_value: object
}
Response: { success: boolean, message: string }

// ì„¤ì • ì¡°íšŒ
GET /api/user/utils/settings
Response: {
  success: boolean,
  settings: {
    default_currency: string,
    favorite_tools: string[],
    exchange_rate_base: string,
    ...
  }
}
```

#### 2. ìœ í‹¸ íˆìŠ¤í† ë¦¬
```typescript
// íˆìŠ¤í† ë¦¬ ì €ì¥
POST /api/user/utils/history
Body: {
  util_type: 'exchange_rate' | 'calculator',
  input_data: object,
  result_data: object
}
Response: { success: boolean, message: string }

// íˆìŠ¤í† ë¦¬ ì¡°íšŒ
GET /api/user/utils/history?util_type=exchange_rate&page=1&limit=20
Response: {
  success: boolean,
  util_type: string,
  history: Array<{
    id: number,
    input_data: object,
    result_data: object,
    created_at: string
  }>,
  total: number
}

// íˆìŠ¤í† ë¦¬ ì‚­ì œ
DELETE /api/user/utils/history/:historyId
Response: { success: boolean, message: string }
```

### ì£¼ì‹ ê´€ë ¨ API â­ NEW

#### 1. ê´€ì‹¬ ì¢…ëª© ê´€ë¦¬
```typescript
// ê´€ì‹¬ ì¢…ëª© ì¶”ê°€
POST /api/user/watchlist
Body: {
  stock_symbol: string,
  stock_name: string,
  market_type: 'US' | 'KR',
  target_price?: number,
  memo?: string
}
Response: { success: boolean, message: string }

// ê´€ì‹¬ ì¢…ëª© ëª©ë¡ ì¡°íšŒ
GET /api/user/watchlist
Response: {
  success: boolean,
  stocks: Array<{
    id: number,
    stock_symbol: string,
    stock_name: string,
    market_type: string,
    target_price?: number,
    memo?: string,
    added_at: string,
    current_price?: number,
    change_percent?: number,
    change_amount?: number
  }>
}

// ê´€ì‹¬ ì¢…ëª© ë©”ëª¨ ìˆ˜ì •
PUT /api/user/watchlist/:stockId
Body: {
  target_price?: number,
  memo?: string
}
Response: { success: boolean, message: string }

// ê´€ì‹¬ ì¢…ëª© ì‚­ì œ
DELETE /api/user/watchlist/:stockId
Response: { success: boolean, message: string }
```

#### 2. ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´ ì¡°íšŒ
```typescript
// ê´€ì‹¬ ì¢…ëª© ì‹¤ì‹œê°„ ê°€ê²© ì¼ê´„ ì¡°íšŒ
GET /api/user/watchlist/prices
Response: {
  success: boolean,
  prices: Array<{
    stock_symbol: string,
    current_price: number,
    change_percent: number,
    change_amount: number,
    volume: number,
    market_cap: number,
    updated_at: string
  }>
}

// íŠ¹ì • ì¢…ëª© ìƒì„¸ ì •ë³´
GET /api/user/watchlist/:stockSymbol/detail
Response: {
  success: boolean,
  stock: {
    symbol: string,
    name: string,
    current_price: number,
    change_percent: number,
    open: number,
    high: number,
    low: number,
    volume: number,
    market_cap: number,
    pe_ratio: number,
    dividend_yield: number
  }
}
```

#### 3. ê°€ê²© ì•Œë¦¼ ê´€ë¦¬
```typescript
// ì•Œë¦¼ ì¶”ê°€
POST /api/user/watchlist/alerts
Body: {
  stock_symbol: string,
  alert_type: 'above' | 'below',
  target_price: number
}
Response: { success: boolean, message: string }

// ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ
GET /api/user/watchlist/alerts
Response: {
  success: boolean,
  alerts: Array<{
    id: number,
    stock_symbol: string,
    stock_name: string,
    alert_type: string,
    target_price: number,
    current_price: number,
    is_triggered: boolean,
    triggered_at?: string,
    created_at: string
  }>
}

// ì•Œë¦¼ ì‚­ì œ
DELETE /api/user/watchlist/alerts/:alertId
Response: { success: boolean, message: string }
```

#### 4. í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„
```typescript
GET /api/user/watchlist/stats
Response: {
  success: boolean,
  stats: {
    total_stocks: number,
    market_distribution: {
      US: number,
      KR: number
    },
    overall_change_percent: number, // ì „ì²´ í‰ê·  ë“±ë½ë¥ 
    top_gainer: {
      symbol: string,
      name: string,
      change_percent: number
    },
    top_loser: {
      symbol: string,
      name: string,
      change_percent: number
    }
  }
}
```

---

## ğŸ¨ UI/UX ì„¤ê³„

### ë§ˆì´í˜ì´ì§€ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê³µí†µ í—¤ë”                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚  ì‚¬ì´ë“œë°”    â”‚  â”‚        ë©”ì¸ ì½˜í…ì¸  ì˜ì—­          â”‚    â”‚
â”‚  â”‚             â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ - í”„ë¡œí•„     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚ - ë‰´ìŠ¤       â”‚  â”‚  â”‚     í™œì„± ì„¹ì…˜ ë‚´ìš©      â”‚   â”‚    â”‚
â”‚  â”‚ - ì£¼ì‹ â­    â”‚  â”‚  â”‚                        â”‚   â”‚    â”‚
â”‚  â”‚ - ê²Œì„       â”‚  â”‚  â”‚  (ë‰´ìŠ¤/ì£¼ì‹/ê²Œì„/ìœ í‹¸   â”‚   â”‚    â”‚
â”‚  â”‚ - ìœ í‹¸       â”‚  â”‚  â”‚   ì¤‘ ì„ íƒëœ ì„¹ì…˜ í‘œì‹œ)  â”‚   â”‚    â”‚
â”‚  â”‚ - ì„¤ì •       â”‚  â”‚  â”‚                        â”‚   â”‚    â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚             â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. ë‰´ìŠ¤ ì„¹ì…˜ UI

#### A. êµ¬ë… í‚¤ì›Œë“œ ê´€ë¦¬
```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“° ë‰´ìŠ¤ êµ¬ë… ê´€ë¦¬                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  êµ¬ë… í‚¤ì›Œë“œ                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [AI] [ë¸”ë¡ì²´ì¸] [ë©”íƒ€ë²„ìŠ¤] [ESG]      â”‚    â”‚
â”‚  â”‚ [ì „ê¸°ì°¨] [ë°˜ë„ì²´] [+ìƒˆ í‚¤ì›Œë“œ ì¶”ê°€]    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  AI ê´€ë ¨ ë‰´ìŠ¤ (23ê°œ)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“„ [ê¸°ìˆ ] OpenAI, GPT-5 ë°œí‘œ         â”‚     â”‚
â”‚  â”‚    2ì‹œê°„ ì „ Â· ë¯¸ì½ìŒ Â· â­ë¶ë§ˆí¬       â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ“„ [ê²½ì œ] AI ë°˜ë„ì²´ ìˆ˜ìš” ê¸‰ì¦         â”‚     â”‚
â”‚  â”‚    5ì‹œê°„ ì „ Â· ì½ìŒ                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  ë¸”ë¡ì²´ì¸ ê´€ë ¨ ë‰´ìŠ¤ (15ê°œ)                    â”‚
â”‚  ...                                          â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### B. ë¶ë§ˆí¬í•œ ë‰´ìŠ¤
```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ ë¶ë§ˆí¬í•œ ë‰´ìŠ¤                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  ì¹´í…Œê³ ë¦¬: [ì „ì²´] [ì •ì¹˜] [ê²½ì œ] [ê¸°ìˆ ]         â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“„ [ê¸°ìˆ ] ì–‘ìì»´í“¨í„° ìƒìš©í™” ì´ˆì½ê¸°    â”‚     â”‚
â”‚  â”‚    ì €ì¥: 2024-01-20                  â”‚     â”‚
â”‚  â”‚    [ì½ê¸°] [ë¶ë§ˆí¬ í•´ì œ] [ê³µìœ ]        â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ“„ [ê²½ì œ] ê¸€ë¡œë²Œ ê¸ˆë¦¬ ì¸í•˜ ì „ë§       â”‚     â”‚
â”‚  â”‚    ì €ì¥: 2024-01-19                  â”‚     â”‚
â”‚  â”‚    [ì½ê¸°] [ë¶ë§ˆí¬ í•´ì œ] [ê³µìœ ]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  [ë” ë³´ê¸°]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì£¼ì‹ ì„¹ì…˜ UI â­ NEW

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ ê´€ì‹¬ ì¢…ëª©                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ì´ ì¢…ëª© ìˆ˜: 8ê°œ                     â”‚     â”‚
â”‚  â”‚  í‰ê·  ë“±ë½ë¥ : +2.34% ğŸ“ˆ              â”‚     â”‚
â”‚  â”‚  ì˜¤ëŠ˜ì˜ ìµœê³ : AAPL +5.2%             â”‚     â”‚
â”‚  â”‚  ì˜¤ëŠ˜ì˜ ìµœì €: ì‚¼ì„±ì „ì -1.8%          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  [+ ì¢…ëª© ì¶”ê°€]  [ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸]  [ì •ë ¬: ë“±ë½ë¥ ] â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ì£¼ì‹ (5ê°œ)                          â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ AAPL - Apple Inc.                â”‚     â”‚
â”‚  â”‚ $178.42  â–² +$9.12 (+5.38%)          â”‚     â”‚
â”‚  â”‚ ğŸ“Š [ë¯¸ë‹ˆì°¨íŠ¸: â†—â†—â†—]                  â”‚     â”‚
â”‚  â”‚ ëª©í‘œê°€: $190.00 | ë©”ëª¨: ë¶„ê¸°ì‹¤ì  í˜¸ì¡° â”‚     â”‚
â”‚  â”‚ [ìƒì„¸] [ìˆ˜ì •] [ì‚­ì œ] [ì•Œë¦¼ì„¤ì •]      â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ”¥ TSLA - Tesla Inc.                â”‚     â”‚
â”‚  â”‚ $248.58  â–¼ -$3.22 (-1.28%)          â”‚     â”‚
â”‚  â”‚ ğŸ“Š [ë¯¸ë‹ˆì°¨íŠ¸: â†—â†˜â†˜]                  â”‚     â”‚
â”‚  â”‚ ëª©í‘œê°€: $260.00 | ë©”ëª¨: ì¡°ì • ì§„ì…    â”‚     â”‚
â”‚  â”‚ [ìƒì„¸] [ìˆ˜ì •] [ì‚­ì œ] [ì•Œë¦¼ì„¤ì •]      â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ¤– NVDA - NVIDIA Corporation        â”‚     â”‚
â”‚  â”‚ $502.34  â–² +$12.45 (+2.54%)         â”‚     â”‚
â”‚  â”‚ ğŸ“Š [ë¯¸ë‹ˆì°¨íŠ¸: â†—â†—â†—]                  â”‚     â”‚
â”‚  â”‚ ëª©í‘œê°€: $550.00 | ë©”ëª¨: AI ìˆ˜í˜œì£¼    â”‚     â”‚
â”‚  â”‚ [ìƒì„¸] [ìˆ˜ì •] [ì‚­ì œ] [ì•Œë¦¼ì„¤ì •]      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  ğŸ‡°ğŸ‡· í•œêµ­ ì£¼ì‹ (3ê°œ)                          â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“± 005930.KS - ì‚¼ì„±ì „ì              â”‚     â”‚
â”‚  â”‚ 72,300ì›  â–¼ -1,300ì› (-1.77%)       â”‚     â”‚
â”‚  â”‚ ğŸ“Š [ë¯¸ë‹ˆì°¨íŠ¸: â†—â†˜â†˜]                  â”‚     â”‚
â”‚  â”‚ ëª©í‘œê°€: 80,000ì› | ë©”ëª¨: ì¥ê¸°ë³´ìœ     â”‚     â”‚
â”‚  â”‚ [ìƒì„¸] [ìˆ˜ì •] [ì‚­ì œ] [ì•Œë¦¼ì„¤ì •]      â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ”‹ 373220.KS - LGì—ë„ˆì§€ì†”ë£¨ì…˜        â”‚     â”‚
â”‚  â”‚ 425,000ì›  â–² +8,500ì› (+2.04%)      â”‚     â”‚
â”‚  â”‚ ğŸ“Š [ë¯¸ë‹ˆì°¨íŠ¸: â†—â†—â†—]                  â”‚     â”‚
â”‚  â”‚ ëª©í‘œê°€: 450,000ì› | ë©”ëª¨: EV ìˆ˜í˜œì£¼  â”‚     â”‚
â”‚  â”‚ [ìƒì„¸] [ìˆ˜ì •] [ì‚­ì œ] [ì•Œë¦¼ì„¤ì •]      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ğŸ”” í™œì„± ì•Œë¦¼ (2ê°œ)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ AAPL: $190 ì´ìƒ ë„ë‹¬ ì‹œ ì•Œë¦¼         â”‚     â”‚
â”‚  â”‚ í˜„ì¬ê°€: $178.42 | ë‹¬ì„±ë¥ : 94%        â”‚     â”‚
â”‚  â”‚ [ì‚­ì œ]                               â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ì‚¼ì„±ì „ì: 75,000ì› ì´ìƒ ë„ë‹¬ ì‹œ ì•Œë¦¼  â”‚     â”‚
â”‚  â”‚ í˜„ì¬ê°€: 72,300ì› | ë‹¬ì„±ë¥ : 96%       â”‚     â”‚
â”‚  â”‚ [ì‚­ì œ]                               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ê²Œì„ ì„¹ì…˜ UI

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ® ê²Œì„ í†µê³„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  ì „ì²´ í†µê³„                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ì´ í”Œë ˆì´: 127íšŒ                    â”‚     â”‚
â”‚  â”‚  ì´ í”Œë ˆì´ ì‹œê°„: 5ì‹œê°„ 32ë¶„           â”‚     â”‚
â”‚  â”‚  ìµœê³  ê¸°ë¡ ê²Œì„: Tetris (15,420ì )    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ê²Œì„ë³„ í†µê³„                                  â”‚
â”‚                                               â”‚
â”‚  ğŸŸ¦ Tetris                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ìµœê³  ì ìˆ˜: 15,420ì                  â”‚     â”‚
â”‚  â”‚  í‰ê·  ì ìˆ˜: 8,340ì                   â”‚     â”‚
â”‚  â”‚  í”Œë ˆì´ íšŸìˆ˜: 45íšŒ                   â”‚     â”‚
â”‚  â”‚  ì „ì²´ ìˆœìœ„: 23ìœ„ / 1,245ëª…            â”‚     â”‚
â”‚  â”‚  ìƒìœ„: 1.8% ğŸ†                       â”‚     â”‚
â”‚  â”‚  [ê²Œì„ í”Œë ˆì´] [ë¦¬ë”ë³´ë“œ ë³´ê¸°]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  ğŸ Snake                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ìµœê³  ì ìˆ˜: 2,890ì                   â”‚     â”‚
â”‚  â”‚  í‰ê·  ì ìˆ˜: 1,560ì                   â”‚     â”‚
â”‚  â”‚  í”Œë ˆì´ íšŸìˆ˜: 38íšŒ                   â”‚     â”‚
â”‚  â”‚  ì „ì²´ ìˆœìœ„: 56ìœ„ / 892ëª…              â”‚     â”‚
â”‚  â”‚  ìƒìœ„: 6.3%                          â”‚     â”‚
â”‚  â”‚  [ê²Œì„ í”Œë ˆì´] [ë¦¬ë”ë³´ë“œ ë³´ê¸°]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  ğŸ² 2048                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ìµœê³  ì ìˆ˜: 45,678ì                  â”‚     â”‚
â”‚  â”‚  í‰ê·  ì ìˆ˜: 28,340ì                  â”‚     â”‚
â”‚  â”‚  í”Œë ˆì´ íšŸìˆ˜: 44íšŒ                   â”‚     â”‚
â”‚  â”‚  ì „ì²´ ìˆœìœ„: 102ìœ„ / 1,567ëª…           â”‚     â”‚
â”‚  â”‚  ìƒìœ„: 6.5%                          â”‚     â”‚
â”‚  â”‚  [ê²Œì„ í”Œë ˆì´] [ë¦¬ë”ë³´ë“œ ë³´ê¸°]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ìµœê·¼ í”Œë ˆì´ ê¸°ë¡                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸŸ¦ Tetris - 12,340ì                  â”‚     â”‚
â”‚  â”‚    2024-01-21 14:30 Â· ìˆœìœ„: 45ìœ„     â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ Snake - 1,890ì                    â”‚     â”‚
â”‚  â”‚    2024-01-21 12:15 Â· ìˆœìœ„: 78ìœ„     â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ² 2048 - 34,560ì                    â”‚     â”‚
â”‚  â”‚    2024-01-20 18:45 Â· ìˆœìœ„: 120ìœ„    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  [ì „ì²´ ê¸°ë¡ ë³´ê¸°]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ìœ í‹¸ ì„¹ì…˜ UI

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ ìœ í‹¸ë¦¬í‹° ê´€ë¦¬                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  ì¦ê²¨ì°¾ëŠ” ë„êµ¬                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [ğŸ’± í™˜ìœ¨ ê³„ì‚°ê¸°] [ğŸ§® í†µí™” ë³€í™˜ê¸°]      â”‚    â”‚
â”‚  â”‚ [ğŸ“Š ì£¼ì‹ ë¶„ì„] [ğŸ“ˆ ì°¨íŠ¸ ë„êµ¬]          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ì„¤ì •                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ê¸°ë³¸ í†µí™”: USD                      â”‚     â”‚
â”‚  â”‚  í™˜ìœ¨ ê¸°ì¤€: ì‹¤ì‹œê°„                   â”‚     â”‚
â”‚  â”‚  í‘œì‹œ ì†Œìˆ˜ì : 2ìë¦¬                  â”‚     â”‚
â”‚  â”‚  [ì„¤ì • ë³€ê²½]                         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                               â”‚
â”‚  ìµœê·¼ ì‚¬ìš© ê¸°ë¡                               â”‚
â”‚                                               â”‚
â”‚  ğŸ’± í™˜ìœ¨ ê³„ì‚° ê¸°ë¡ (10ê°œ)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ USD 1,000 â†’ KRW 1,320,000            â”‚     â”‚
â”‚  â”‚ 2024-01-21 15:30 Â· í™˜ìœ¨: 1,320       â”‚     â”‚
â”‚  â”‚ [ë‹¤ì‹œ ì‚¬ìš©] [ì‚­ì œ]                   â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ EUR 500 â†’ USD 550                    â”‚     â”‚
â”‚  â”‚ 2024-01-20 10:15 Â· í™˜ìœ¨: 1.10        â”‚     â”‚
â”‚  â”‚ [ë‹¤ì‹œ ì‚¬ìš©] [ì‚­ì œ]                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                               â”‚
â”‚  ğŸ§® í†µí™” ë³€í™˜ ê¸°ë¡ (5ê°œ)                      â”‚
â”‚  ...                                          â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„ ë°©ì•ˆ

### 1. íƒ€ì… ì •ì˜

```typescript
// src/types/mypage.types.ts

// ë‰´ìŠ¤ ê´€ë ¨ íƒ€ì…
export interface UserKeywordSubscription {
  id: number
  user_id: number
  keyword: string
  created_at: string
}

export interface UserNewsBookmark {
  id: number
  user_id: number
  news_id: number
  title: string
  content: string
  category: string
  created_at: string
  bookmarked_at: string
}

export interface UserNewsRead {
  id: number
  user_id: number
  news_id: number
  read_at: string
}

export interface NewsByKeyword {
  keyword: string
  news: Array<{
    id: number
    title: string
    content: string
    category: string
    created_at: string
    is_read: boolean
    is_bookmarked: boolean
  }>
  total: number
}

// ê²Œì„ ê´€ë ¨ íƒ€ì…
export type GameType = 'tetris' | 'snake' | '2048'

export interface UserGameScore {
  id: number
  user_id: number
  game_type: GameType
  score: number
  game_data?: object
  played_at: string
}

export interface GameStats {
  best_score: number
  average_score: number
  play_count: number
  rank: number
  percentile: number
  last_played: string
}

export interface LeaderboardEntry {
  rank: number
  user_id: number
  user_name: string
  score: number
  played_at: string
  is_current_user: boolean
}

// ìœ í‹¸ ê´€ë ¨ íƒ€ì…
export interface UserUtilSetting {
  id: number
  user_id: number
  setting_key: string
  setting_value: object
  updated_at: string
}

export interface UserUtilHistory {
  id: number
  user_id: number
  util_type: string
  input_data: object
  result_data?: object
  created_at: string
}

// ì£¼ì‹ ê´€ë ¨ íƒ€ì… â­ NEW
export interface UserWatchlistStock {
  id: number
  user_id: number
  stock_symbol: string
  stock_name: string
  market_type: 'US' | 'KR'
  target_price?: number
  memo?: string
  added_at: string
  // ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´ (API ì¡°íšŒ ì‹œ ì¶”ê°€ë¨)
  current_price?: number
  change_percent?: number
  change_amount?: number
  volume?: number
}

export interface StockPrice {
  stock_symbol: string
  current_price: number
  change_percent: number
  change_amount: number
  volume: number
  market_cap?: number
  updated_at: string
}

export interface StockAlert {
  id: number
  user_id: number
  stock_symbol: string
  stock_name?: string
  alert_type: 'above' | 'below'
  target_price: number
  current_price?: number
  is_triggered: boolean
  triggered_at?: string
  created_at: string
}

export interface WatchlistStats {
  total_stocks: number
  market_distribution: {
    US: number
    KR: number
  }
  overall_change_percent: number
  top_gainer?: {
    symbol: string
    name: string
    change_percent: number
  }
  top_loser?: {
    symbol: string
    name: string
    change_percent: number
  }
}
```

### 2. ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„

```typescript
// src/services/mypage.service.ts

import { D1Database } from '@cloudflare/workers-types'
import type { 
  UserKeywordSubscription, 
  UserNewsBookmark,
  GameStats,
  LeaderboardEntry 
} from '../types/mypage.types'

export class MyPageService {
  constructor(private db: D1Database) {}

  // ===== ë‰´ìŠ¤ í‚¤ì›Œë“œ ê´€ë¦¬ =====
  
  async addKeywordSubscription(userId: number, keyword: string): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_keyword_subscriptions (user_id, keyword)
        VALUES (?, ?)
        ON CONFLICT(user_id, keyword) DO NOTHING
      `)
      .bind(userId, keyword)
      .run()
  }

  async getKeywordSubscriptions(userId: number): Promise<UserKeywordSubscription[]> {
    const result = await this.db
      .prepare(`
        SELECT id, user_id, keyword, created_at
        FROM user_keyword_subscriptions
        WHERE user_id = ?
        ORDER BY created_at DESC
      `)
      .bind(userId)
      .all()

    return result.results as UserKeywordSubscription[]
  }

  async removeKeywordSubscription(userId: number, keywordId: number): Promise<void> {
    await this.db
      .prepare(`
        DELETE FROM user_keyword_subscriptions
        WHERE id = ? AND user_id = ?
      `)
      .bind(keywordId, userId)
      .run()
  }

  // ===== ë‰´ìŠ¤ ë¶ë§ˆí¬ =====

  async addNewsBookmark(userId: number, newsId: number): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_news_bookmarks (user_id, news_id)
        VALUES (?, ?)
        ON CONFLICT(user_id, news_id) DO NOTHING
      `)
      .bind(userId, newsId)
      .run()
  }

  async getNewsBookmarks(
    userId: number, 
    page: number = 1, 
    limit: number = 20
  ): Promise<{ bookmarks: UserNewsBookmark[], total: number }> {
    const offset = (page - 1) * limit

    const [bookmarks, totalResult] = await Promise.all([
      this.db
        .prepare(`
          SELECT 
            b.id,
            b.user_id,
            b.news_id,
            n.title,
            n.content,
            n.category,
            n.created_at,
            b.created_at as bookmarked_at
          FROM user_news_bookmarks b
          JOIN news n ON b.news_id = n.id
          WHERE b.user_id = ?
          ORDER BY b.created_at DESC
          LIMIT ? OFFSET ?
        `)
        .bind(userId, limit, offset)
        .all(),
      this.db
        .prepare(`SELECT COUNT(*) as count FROM user_news_bookmarks WHERE user_id = ?`)
        .bind(userId)
        .first()
    ])

    return {
      bookmarks: bookmarks.results as UserNewsBookmark[],
      total: (totalResult as any).count
    }
  }

  async removeNewsBookmark(userId: number, newsId: number): Promise<void> {
    await this.db
      .prepare(`
        DELETE FROM user_news_bookmarks
        WHERE user_id = ? AND news_id = ?
      `)
      .bind(userId, newsId)
      .run()
  }

  // ===== ë‰´ìŠ¤ ì½ìŒ í‘œì‹œ =====

  async markNewsAsRead(userId: number, newsId: number): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_news_read (user_id, news_id)
        VALUES (?, ?)
        ON CONFLICT(user_id, news_id) DO NOTHING
      `)
      .bind(userId, newsId)
      .run()
  }

  // ===== êµ¬ë… í‚¤ì›Œë“œë³„ ë‰´ìŠ¤ ì¡°íšŒ =====

  async getNewsByKeyword(
    userId: number,
    keyword: string,
    page: number = 1,
    limit: number = 10
  ): Promise<{ news: any[], total: number }> {
    const offset = (page - 1) * limit

    const [news, totalResult] = await Promise.all([
      this.db
        .prepare(`
          SELECT 
            n.id,
            n.title,
            n.content,
            n.category,
            n.created_at,
            CASE WHEN r.news_id IS NOT NULL THEN 1 ELSE 0 END as is_read,
            CASE WHEN b.news_id IS NOT NULL THEN 1 ELSE 0 END as is_bookmarked
          FROM news n
          LEFT JOIN user_news_read r ON n.id = r.news_id AND r.user_id = ?
          LEFT JOIN user_news_bookmarks b ON n.id = b.news_id AND b.user_id = ?
          WHERE (
            n.title LIKE ? OR 
            n.content LIKE ? OR
            n.keywords LIKE ?
          )
          ORDER BY n.created_at DESC
          LIMIT ? OFFSET ?
        `)
        .bind(
          userId, 
          userId, 
          `%${keyword}%`, 
          `%${keyword}%`, 
          `%${keyword}%`,
          limit, 
          offset
        )
        .all(),
      this.db
        .prepare(`
          SELECT COUNT(*) as count FROM news
          WHERE title LIKE ? OR content LIKE ? OR keywords LIKE ?
        `)
        .bind(`%${keyword}%`, `%${keyword}%`, `%${keyword}%`)
        .first()
    ])

    return {
      news: news.results,
      total: (totalResult as any).count
    }
  }

  // ===== ê²Œì„ ì ìˆ˜ =====

  async saveGameScore(
    userId: number,
    gameType: string,
    score: number,
    gameData?: object
  ): Promise<{ rank: number, percentile: number }> {
    // ì ìˆ˜ ì €ì¥
    await this.db
      .prepare(`
        INSERT INTO user_game_scores (user_id, game_type, score, game_data)
        VALUES (?, ?, ?, ?)
      `)
      .bind(userId, gameType, score, gameData ? JSON.stringify(gameData) : null)
      .run()

    // ìˆœìœ„ ê³„ì‚°
    const rankResult = await this.db
      .prepare(`
        SELECT 
          COUNT(*) + 1 as rank,
          (SELECT COUNT(DISTINCT user_id) FROM user_game_scores WHERE game_type = ?) as total_players
        FROM (
          SELECT user_id, MAX(score) as max_score
          FROM user_game_scores
          WHERE game_type = ?
          GROUP BY user_id
        ) scores
        WHERE max_score > ?
      `)
      .bind(gameType, gameType, score)
      .first()

    const rank = (rankResult as any).rank
    const totalPlayers = (rankResult as any).total_players
    const percentile = ((rank / totalPlayers) * 100).toFixed(1)

    return { rank, percentile: parseFloat(percentile) }
  }

  async getGameStats(userId: number): Promise<Record<string, GameStats>> {
    const games = ['tetris', 'snake', '2048']
    const stats: Record<string, GameStats> = {}

    for (const gameType of games) {
      const result = await this.db
        .prepare(`
          SELECT 
            MAX(score) as best_score,
            AVG(score) as average_score,
            COUNT(*) as play_count,
            MAX(played_at) as last_played
          FROM user_game_scores
          WHERE user_id = ? AND game_type = ?
        `)
        .bind(userId, gameType)
        .first()

      if (result && (result as any).play_count > 0) {
        const bestScore = (result as any).best_score

        // ìˆœìœ„ ê³„ì‚°
        const rankResult = await this.db
          .prepare(`
            SELECT 
              COUNT(*) + 1 as rank,
              (SELECT COUNT(DISTINCT user_id) FROM user_game_scores WHERE game_type = ?) as total_players
            FROM (
              SELECT user_id, MAX(score) as max_score
              FROM user_game_scores
              WHERE game_type = ?
              GROUP BY user_id
            ) scores
            WHERE max_score > ?
          `)
          .bind(gameType, gameType, bestScore)
          .first()

        const rank = (rankResult as any).rank
        const totalPlayers = (rankResult as any).total_players
        const percentile = ((rank / totalPlayers) * 100).toFixed(1)

        stats[gameType] = {
          best_score: bestScore,
          average_score: Math.round((result as any).average_score),
          play_count: (result as any).play_count,
          rank,
          percentile: parseFloat(percentile),
          last_played: (result as any).last_played
        }
      }
    }

    return stats
  }

  async getLeaderboard(
    gameType: string,
    limit: number = 100,
    userId?: number
  ): Promise<{ leaderboard: LeaderboardEntry[], userRank?: number, totalPlayers: number }> {
    // ë¦¬ë”ë³´ë“œ ì¡°íšŒ
    const leaderboard = await this.db
      .prepare(`
        SELECT 
          ROW_NUMBER() OVER (ORDER BY max_score DESC) as rank,
          user_id,
          u.name as user_name,
          max_score as score,
          played_at
        FROM (
          SELECT 
            user_id,
            MAX(score) as max_score,
            MAX(played_at) as played_at
          FROM user_game_scores
          WHERE game_type = ?
          GROUP BY user_id
        ) scores
        JOIN users u ON scores.user_id = u.id
        ORDER BY max_score DESC
        LIMIT ?
      `)
      .bind(gameType, limit)
      .all()

    const totalPlayersResult = await this.db
      .prepare(`SELECT COUNT(DISTINCT user_id) as count FROM user_game_scores WHERE game_type = ?`)
      .bind(gameType)
      .first()

    const entries: LeaderboardEntry[] = (leaderboard.results as any[]).map(row => ({
      rank: row.rank,
      user_id: row.user_id,
      user_name: row.user_name,
      score: row.score,
      played_at: row.played_at,
      is_current_user: userId ? row.user_id === userId : false
    }))

    // í˜„ì¬ ì‚¬ìš©ì ìˆœìœ„ ì¡°íšŒ
    let userRank: number | undefined
    if (userId) {
      const userBestScore = await this.db
        .prepare(`SELECT MAX(score) as max_score FROM user_game_scores WHERE user_id = ? AND game_type = ?`)
        .bind(userId, gameType)
        .first()

      if (userBestScore && (userBestScore as any).max_score) {
        const rankResult = await this.db
          .prepare(`
            SELECT COUNT(*) + 1 as rank
            FROM (
              SELECT user_id, MAX(score) as max_score
              FROM user_game_scores
              WHERE game_type = ?
              GROUP BY user_id
            ) scores
            WHERE max_score > ?
          `)
          .bind(gameType, (userBestScore as any).max_score)
          .first()

        userRank = (rankResult as any).rank
      }
    }

    return {
      leaderboard: entries,
      userRank,
      totalPlayers: (totalPlayersResult as any).count
    }
  }

  // ===== ìœ í‹¸ ì„¤ì • =====

  async saveUtilSetting(userId: number, settingKey: string, settingValue: object): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_util_settings (user_id, setting_key, setting_value, updated_at)
        VALUES (?, ?, ?, CURRENT_TIMESTAMP)
        ON CONFLICT(user_id, setting_key) 
        DO UPDATE SET setting_value = excluded.setting_value, updated_at = CURRENT_TIMESTAMP
      `)
      .bind(userId, settingKey, JSON.stringify(settingValue))
      .run()
  }

  async getUtilSettings(userId: number): Promise<Record<string, any>> {
    const result = await this.db
      .prepare(`
        SELECT setting_key, setting_value
        FROM user_util_settings
        WHERE user_id = ?
      `)
      .bind(userId)
      .all()

    const settings: Record<string, any> = {}
    for (const row of result.results as any[]) {
      settings[row.setting_key] = JSON.parse(row.setting_value)
    }

    return settings
  }

  // ===== ìœ í‹¸ íˆìŠ¤í† ë¦¬ =====

  async saveUtilHistory(
    userId: number,
    utilType: string,
    inputData: object,
    resultData?: object
  ): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_util_history (user_id, util_type, input_data, result_data)
        VALUES (?, ?, ?, ?)
      `)
      .bind(
        userId, 
        utilType, 
        JSON.stringify(inputData), 
        resultData ? JSON.stringify(resultData) : null
      )
      .run()
  }

  async getUtilHistory(
    userId: number,
    utilType?: string,
    page: number = 1,
    limit: number = 20
  ): Promise<{ history: any[], total: number }> {
    const offset = (page - 1) * limit

    const query = utilType
      ? `WHERE user_id = ? AND util_type = ?`
      : `WHERE user_id = ?`

    const [history, totalResult] = await Promise.all([
      this.db
        .prepare(`
          SELECT id, util_type, input_data, result_data, created_at
          FROM user_util_history
          ${query}
          ORDER BY created_at DESC
          LIMIT ? OFFSET ?
        `)
        .bind(...(utilType ? [userId, utilType, limit, offset] : [userId, limit, offset]))
        .all(),
      this.db
        .prepare(`SELECT COUNT(*) as count FROM user_util_history ${query}`)
        .bind(...(utilType ? [userId, utilType] : [userId]))
        .first()
    ])

    return {
      history: history.results.map((row: any) => ({
        id: row.id,
        util_type: row.util_type,
        input_data: JSON.parse(row.input_data),
        result_data: row.result_data ? JSON.parse(row.result_data) : null,
        created_at: row.created_at
      })),
      total: (totalResult as any).count
    }
  }

  async deleteUtilHistory(userId: number, historyId: number): Promise<void> {
    await this.db
      .prepare(`
        DELETE FROM user_util_history
        WHERE id = ? AND user_id = ?
      `)
      .bind(historyId, userId)
      .run()
  }
}
```

### 3. ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´

ìœ„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì— ì¶”ê°€ë¡œ **ì£¼ì‹ ê´€ë ¨ ë©”ì„œë“œ**ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
// MyPageService í´ë˜ìŠ¤ì— ì¶”ê°€í•  ë©”ì„œë“œë“¤

export class MyPageService {
  // ... ê¸°ì¡´ ë©”ì„œë“œë“¤ ...

  // ===== ì£¼ì‹ ê´€ì‹¬ ì¢…ëª© ê´€ë¦¬ =====

  async addWatchlistStock(
    userId: number,
    stockSymbol: string,
    stockName: string,
    marketType: string,
    targetPrice?: number,
    memo?: string
  ): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_watchlist_stocks (
          user_id, stock_symbol, stock_name, market_type, target_price, memo
        )
        VALUES (?, ?, ?, ?, ?, ?)
        ON CONFLICT(user_id, stock_symbol) DO UPDATE 
        SET target_price = excluded.target_price, memo = excluded.memo
      `)
      .bind(userId, stockSymbol, stockName, marketType, targetPrice, memo)
      .run()
  }

  async getWatchlistStocks(userId: number): Promise<UserWatchlistStock[]> {
    const result = await this.db
      .prepare(`
        SELECT 
          id, user_id, stock_symbol, stock_name, 
          market_type, target_price, memo, added_at
        FROM user_watchlist_stocks
        WHERE user_id = ?
        ORDER BY added_at DESC
      `)
      .bind(userId)
      .all()

    return result.results as UserWatchlistStock[]
  }

  async updateWatchlistStock(
    userId: number,
    stockId: number,
    targetPrice?: number,
    memo?: string
  ): Promise<void> {
    await this.db
      .prepare(`
        UPDATE user_watchlist_stocks
        SET target_price = ?, memo = ?
        WHERE id = ? AND user_id = ?
      `)
      .bind(targetPrice, memo, stockId, userId)
      .run()
  }

  async removeWatchlistStock(userId: number, stockId: number): Promise<void> {
    await this.db
      .prepare(`
        DELETE FROM user_watchlist_stocks
        WHERE id = ? AND user_id = ?
      `)
      .bind(stockId, userId)
      .run()
  }

  // ===== ì£¼ì‹ ì•Œë¦¼ =====

  async addStockAlert(
    userId: number,
    stockSymbol: string,
    alertType: string,
    targetPrice: number
  ): Promise<void> {
    await this.db
      .prepare(`
        INSERT INTO user_stock_alerts (
          user_id, stock_symbol, alert_type, target_price
        )
        VALUES (?, ?, ?, ?)
      `)
      .bind(userId, stockSymbol, alertType, targetPrice)
      .run()
  }

  async getStockAlerts(userId: number): Promise<StockAlert[]> {
    const result = await this.db
      .prepare(`
        SELECT 
          a.id, a.user_id, a.stock_symbol, w.stock_name,
          a.alert_type, a.target_price, a.is_triggered, 
          a.triggered_at, a.created_at
        FROM user_stock_alerts a
        LEFT JOIN user_watchlist_stocks w 
          ON a.stock_symbol = w.stock_symbol AND a.user_id = w.user_id
        WHERE a.user_id = ? AND a.is_triggered = 0
        ORDER BY a.created_at DESC
      `)
      .bind(userId)
      .all()

    return result.results as StockAlert[]
  }

  async deleteStockAlert(userId: number, alertId: number): Promise<void> {
    await this.db
      .prepare(`
        DELETE FROM user_stock_alerts
        WHERE id = ? AND user_id = ?
      `)
      .bind(alertId, userId)
      .run()
  }

  // ===== í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„ =====

  async getWatchlistStats(userId: number): Promise<WatchlistStats> {
    // ì´ ì¢…ëª© ìˆ˜ ë° ì‹œì¥ë³„ ë¶„í¬
    const distributionResult = await this.db
      .prepare(`
        SELECT 
          COUNT(*) as total_stocks,
          SUM(CASE WHEN market_type = 'US' THEN 1 ELSE 0 END) as us_count,
          SUM(CASE WHEN market_type = 'KR' THEN 1 ELSE 0 END) as kr_count
        FROM user_watchlist_stocks
        WHERE user_id = ?
      `)
      .bind(userId)
      .first()

    const dist = distributionResult as any

    return {
      total_stocks: dist.total_stocks || 0,
      market_distribution: {
        US: dist.us_count || 0,
        KR: dist.kr_count || 0
      },
      overall_change_percent: 0, // ì‹¤ì‹œê°„ ê°€ê²© APIì—ì„œ ê³„ì‚°
      top_gainer: undefined,
      top_loser: undefined
    }
  }
}
```

### 3. ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ (ì£¼ì‹ ê´€ë ¨ ì¶”ê°€)

```typescript
// src/controllers/mypage.controller.ts

import { Context } from 'hono'
import { MyPageService } from '../services/mypage.service'
import { AppError, ErrorCodes } from '../middleware/errors'
import { logger } from '../middleware/logger'
import type { Bindings } from '../types/bindings.types'

export class MyPageController {
  // ===== í‚¤ì›Œë“œ êµ¬ë… =====

  static async addKeyword(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { keyword } = await c.req.json()
      
      if (!keyword || keyword.trim().length === 0) {
        throw new AppError('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.addKeywordSubscription(user.id, keyword.trim())

      logger.info('Keyword subscription added', { userId: user.id, keyword })

      return c.json({
        success: true,
        message: 'í‚¤ì›Œë“œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to add keyword subscription', error)
      throw error
    }
  }

  static async getKeywords(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const keywords = await service.getKeywordSubscriptions(user.id)

      return c.json({
        success: true,
        keywords
      })
    } catch (error) {
      logger.error('Failed to get keyword subscriptions', error)
      throw error
    }
  }

  static async deleteKeyword(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const keywordId = parseInt(c.req.param('keywordId'))
      
      if (isNaN(keywordId)) {
        throw new AppError('ì˜ëª»ëœ í‚¤ì›Œë“œ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.removeKeywordSubscription(user.id, keywordId)

      logger.info('Keyword subscription removed', { userId: user.id, keywordId })

      return c.json({
        success: true,
        message: 'í‚¤ì›Œë“œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to delete keyword subscription', error)
      throw error
    }
  }

  // ===== ë‰´ìŠ¤ ë¶ë§ˆí¬ =====

  static async addBookmark(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { news_id } = await c.req.json()
      
      if (!news_id || isNaN(news_id)) {
        throw new AppError('ì˜ëª»ëœ ë‰´ìŠ¤ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.addNewsBookmark(user.id, news_id)

      logger.info('News bookmarked', { userId: user.id, newsId: news_id })

      return c.json({
        success: true,
        message: 'ë¶ë§ˆí¬ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to add news bookmark', error)
      throw error
    }
  }

  static async getBookmarks(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const page = parseInt(c.req.query('page') || '1')
      const limit = parseInt(c.req.query('limit') || '20')

      const service = new MyPageService(c.env.DB)
      const { bookmarks, total } = await service.getNewsBookmarks(user.id, page, limit)

      return c.json({
        success: true,
        bookmarks,
        total,
        page,
        limit
      })
    } catch (error) {
      logger.error('Failed to get news bookmarks', error)
      throw error
    }
  }

  static async deleteBookmark(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const newsId = parseInt(c.req.param('newsId'))
      
      if (isNaN(newsId)) {
        throw new AppError('ì˜ëª»ëœ ë‰´ìŠ¤ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.removeNewsBookmark(user.id, newsId)

      logger.info('News bookmark removed', { userId: user.id, newsId })

      return c.json({
        success: true,
        message: 'ë¶ë§ˆí¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to delete news bookmark', error)
      throw error
    }
  }

  // ===== í‚¤ì›Œë“œë³„ ë‰´ìŠ¤ ì¡°íšŒ =====

  static async getNewsByKeyword(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const keyword = c.req.query('keyword')
      if (!keyword) {
        throw new AppError('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const page = parseInt(c.req.query('page') || '1')
      const limit = parseInt(c.req.query('limit') || '10')

      const service = new MyPageService(c.env.DB)
      const { news, total } = await service.getNewsByKeyword(user.id, keyword, page, limit)

      return c.json({
        success: true,
        keyword,
        news,
        total,
        page,
        limit
      })
    } catch (error) {
      logger.error('Failed to get news by keyword', error)
      throw error
    }
  }

  // ===== ë‰´ìŠ¤ ì½ìŒ í‘œì‹œ =====

  static async markNewsAsRead(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { news_id } = await c.req.json()
      
      if (!news_id || isNaN(news_id)) {
        throw new AppError('ì˜ëª»ëœ ë‰´ìŠ¤ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.markNewsAsRead(user.id, news_id)

      return c.json({
        success: true,
        message: 'ì½ìŒìœ¼ë¡œ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to mark news as read', error)
      throw error
    }
  }

  // ===== ê²Œì„ ì ìˆ˜ =====

  static async saveGameScore(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { game_type, score, game_data } = await c.req.json()
      
      if (!game_type || !score || isNaN(score)) {
        throw new AppError('ì˜ëª»ëœ ê²Œì„ ë°ì´í„°ì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      const { rank, percentile } = await service.saveGameScore(user.id, game_type, score, game_data)

      logger.info('Game score saved', { 
        userId: user.id, 
        gameType: game_type, 
        score, 
        rank, 
        percentile 
      })

      return c.json({
        success: true,
        message: 'ì ìˆ˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤',
        rank,
        percentile
      })
    } catch (error) {
      logger.error('Failed to save game score', error)
      throw error
    }
  }

  static async getGameStats(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const stats = await service.getGameStats(user.id)

      return c.json({
        success: true,
        stats
      })
    } catch (error) {
      logger.error('Failed to get game stats', error)
      throw error
    }
  }

  static async getLeaderboard(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      const gameType = c.req.query('game_type')
      const limit = parseInt(c.req.query('limit') || '100')

      if (!gameType) {
        throw new AppError('ê²Œì„ íƒ€ì…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      const result = await service.getLeaderboard(gameType, limit, user?.id)

      return c.json({
        success: true,
        game_type: gameType,
        ...result
      })
    } catch (error) {
      logger.error('Failed to get leaderboard', error)
      throw error
    }
  }

  // ===== ìœ í‹¸ ì„¤ì • =====

  static async saveUtilSettings(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { setting_key, setting_value } = await c.req.json()
      
      if (!setting_key || !setting_value) {
        throw new AppError('ì„¤ì • í‚¤ì™€ ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.saveUtilSetting(user.id, setting_key, setting_value)

      logger.info('Util setting saved', { userId: user.id, settingKey: setting_key })

      return c.json({
        success: true,
        message: 'ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to save util settings', error)
      throw error
    }
  }

  static async getUtilSettings(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const settings = await service.getUtilSettings(user.id)

      return c.json({
        success: true,
        settings
      })
    } catch (error) {
      logger.error('Failed to get util settings', error)
      throw error
    }
  }

  // ===== ìœ í‹¸ íˆìŠ¤í† ë¦¬ =====

  static async saveUtilHistory(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { util_type, input_data, result_data } = await c.req.json()
      
      if (!util_type || !input_data) {
        throw new AppError('ìœ í‹¸ íƒ€ì…ê³¼ ì…ë ¥ ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.saveUtilHistory(user.id, util_type, input_data, result_data)

      return c.json({
        success: true,
        message: 'íˆìŠ¤í† ë¦¬ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to save util history', error)
      throw error
    }
  }

  static async getUtilHistory(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const utilType = c.req.query('util_type')
      const page = parseInt(c.req.query('page') || '1')
      const limit = parseInt(c.req.query('limit') || '20')

      const service = new MyPageService(c.env.DB)
      const { history, total } = await service.getUtilHistory(user.id, utilType, page, limit)

      return c.json({
        success: true,
        util_type: utilType,
        history,
        total,
        page,
        limit
      })
    } catch (error) {
      logger.error('Failed to get util history', error)
      throw error
    }
  }

  static async deleteUtilHistory(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const historyId = parseInt(c.req.param('historyId'))
      
      if (isNaN(historyId)) {
        throw new AppError('ì˜ëª»ëœ íˆìŠ¤í† ë¦¬ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.deleteUtilHistory(user.id, historyId)

      logger.info('Util history deleted', { userId: user.id, historyId })

      return c.json({
        success: true,
        message: 'íˆìŠ¤í† ë¦¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to delete util history', error)
      throw error
    }
  }
}
```

ìœ„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì¶”ê°€ë¡œ **ì£¼ì‹ ê´€ë ¨ í•¸ë“¤ëŸ¬**ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
export class MyPageController {
  // ... ê¸°ì¡´ í•¸ë“¤ëŸ¬ë“¤ ...

  // ===== ì£¼ì‹ ê´€ì‹¬ ì¢…ëª© =====

  static async addWatchlistStock(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { stock_symbol, stock_name, market_type, target_price, memo } = await c.req.json()
      
      if (!stock_symbol || !stock_name || !market_type) {
        throw new AppError('ì¢…ëª© ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.addWatchlistStock(
        user.id, 
        stock_symbol, 
        stock_name, 
        market_type, 
        target_price, 
        memo
      )

      logger.info('Stock added to watchlist', { 
        userId: user.id, 
        stockSymbol: stock_symbol 
      })

      return c.json({
        success: true,
        message: 'ê´€ì‹¬ ì¢…ëª©ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to add stock to watchlist', error)
      throw error
    }
  }

  static async getWatchlistStocks(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const stocks = await service.getWatchlistStocks(user.id)

      // TODO: ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´ëŠ” ì™¸ë¶€ API í˜¸ì¶œë¡œ ì¶”ê°€
      // í˜„ì¬ëŠ” DBì— ì €ì¥ëœ ê¸°ë³¸ ì •ë³´ë§Œ ë°˜í™˜

      return c.json({
        success: true,
        stocks
      })
    } catch (error) {
      logger.error('Failed to get watchlist stocks', error)
      throw error
    }
  }

  static async updateWatchlistStock(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const stockId = parseInt(c.req.param('stockId'))
      if (isNaN(stockId)) {
        throw new AppError('ì˜ëª»ëœ ì¢…ëª© IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const { target_price, memo } = await c.req.json()

      const service = new MyPageService(c.env.DB)
      await service.updateWatchlistStock(user.id, stockId, target_price, memo)

      logger.info('Watchlist stock updated', { userId: user.id, stockId })

      return c.json({
        success: true,
        message: 'ì¢…ëª© ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to update watchlist stock', error)
      throw error
    }
  }

  static async deleteWatchlistStock(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const stockId = parseInt(c.req.param('stockId'))
      if (isNaN(stockId)) {
        throw new AppError('ì˜ëª»ëœ ì¢…ëª© IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.removeWatchlistStock(user.id, stockId)

      logger.info('Stock removed from watchlist', { userId: user.id, stockId })

      return c.json({
        success: true,
        message: 'ê´€ì‹¬ ì¢…ëª©ì—ì„œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to delete watchlist stock', error)
      throw error
    }
  }

  // ===== ì£¼ì‹ ì•Œë¦¼ =====

  static async addStockAlert(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const { stock_symbol, alert_type, target_price } = await c.req.json()
      
      if (!stock_symbol || !alert_type || !target_price) {
        throw new AppError('ì•Œë¦¼ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”', 400, ErrorCodes.VALIDATION_ERROR)
      }

      if (!['above', 'below'].includes(alert_type)) {
        throw new AppError('ì˜ëª»ëœ ì•Œë¦¼ íƒ€ì…ì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.addStockAlert(user.id, stock_symbol, alert_type, target_price)

      logger.info('Stock alert added', { 
        userId: user.id, 
        stockSymbol: stock_symbol, 
        alertType: alert_type,
        targetPrice: target_price
      })

      return c.json({
        success: true,
        message: 'ê°€ê²© ì•Œë¦¼ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to add stock alert', error)
      throw error
    }
  }

  static async getStockAlerts(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const alerts = await service.getStockAlerts(user.id)

      // TODO: í˜„ì¬ê°€ ì •ë³´ëŠ” ì‹¤ì‹œê°„ APIì—ì„œ ê°€ì ¸ì™€ì„œ ì¶”ê°€

      return c.json({
        success: true,
        alerts
      })
    } catch (error) {
      logger.error('Failed to get stock alerts', error)
      throw error
    }
  }

  static async deleteStockAlert(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const alertId = parseInt(c.req.param('alertId'))
      if (isNaN(alertId)) {
        throw new AppError('ì˜ëª»ëœ ì•Œë¦¼ IDì…ë‹ˆë‹¤', 400, ErrorCodes.VALIDATION_ERROR)
      }

      const service = new MyPageService(c.env.DB)
      await service.deleteStockAlert(user.id, alertId)

      logger.info('Stock alert deleted', { userId: user.id, alertId })

      return c.json({
        success: true,
        message: 'ì•Œë¦¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'
      })
    } catch (error) {
      logger.error('Failed to delete stock alert', error)
      throw error
    }
  }

  // ===== í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„ =====

  static async getWatchlistStats(c: Context<{ Bindings: Bindings }>) {
    try {
      const user = c.get('user')
      if (!user) {
        throw new AppError('Unauthorized', 401, ErrorCodes.UNAUTHORIZED)
      }

      const service = new MyPageService(c.env.DB)
      const stats = await service.getWatchlistStats(user.id)

      // TODO: ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ overall_change_percent, 
      // top_gainer, top_loser ê³„ì‚°

      return c.json({
        success: true,
        stats
      })
    } catch (error) {
      logger.error('Failed to get watchlist stats', error)
      throw error
    }
  }
}
```

---

## ğŸ“… êµ¬í˜„ ìˆœì„œ ë° ì¼ì •

### Week 1: ë°ì´í„°ë² ì´ìŠ¤ ë° API ê¸°ì´ˆ (6ì¼)

#### Day 1: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] 8ê°œ í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„± (ê¸°ì¡´ 6ê°œ + ì£¼ì‹ 2ê°œ)
- [ ] ë¡œì»¬ D1 ë°ì´í„°ë² ì´ìŠ¤ì— ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
- [ ] í…Œì´ë¸” êµ¬ì¡° ê²€ì¦ ë° ì¸ë±ìŠ¤ í™•ì¸

#### Day 2-3: ë‰´ìŠ¤ ê´€ë ¨ API êµ¬í˜„
- [ ] íƒ€ì… ì •ì˜ (`mypage.types.ts`)
- [ ] MyPageServiceì˜ ë‰´ìŠ¤ ê´€ë ¨ ë©”ì„œë“œ êµ¬í˜„
- [ ] MyPageControllerì˜ ë‰´ìŠ¤ ê´€ë ¨ í•¸ë“¤ëŸ¬ êµ¬í˜„
- [ ] API ë¼ìš°íŠ¸ ë“±ë¡ (`index.tsx`)
- [ ] ë¡œì»¬ í…ŒìŠ¤íŠ¸ (curl ë˜ëŠ” Postman)

#### Day 4: ì£¼ì‹ ê´€ë ¨ API êµ¬í˜„ â­ NEW
- [ ] MyPageServiceì˜ ì£¼ì‹ ê´€ë ¨ ë©”ì„œë“œ êµ¬í˜„
- [ ] MyPageControllerì˜ ì£¼ì‹ ê´€ë ¨ í•¸ë“¤ëŸ¬ êµ¬í˜„
- [ ] ì‹¤ì‹œê°„ ê°€ê²© ì¡°íšŒ í†µí•© (ê¸°ì¡´ Yahoo Finance API í™œìš©)
- [ ] API ë¼ìš°íŠ¸ ë“±ë¡ ë° í…ŒìŠ¤íŠ¸

#### Day 5: ê²Œì„ ê´€ë ¨ API êµ¬í˜„
- [ ] MyPageServiceì˜ ê²Œì„ ê´€ë ¨ ë©”ì„œë“œ êµ¬í˜„
- [ ] MyPageControllerì˜ ê²Œì„ ê´€ë ¨ í•¸ë“¤ëŸ¬ êµ¬í˜„
- [ ] ë¦¬ë”ë³´ë“œ ìˆœìœ„ ê³„ì‚° ë¡œì§ êµ¬í˜„
- [ ] API ë¼ìš°íŠ¸ ë“±ë¡ ë° í…ŒìŠ¤íŠ¸

#### Day 6: ìœ í‹¸ ê´€ë ¨ API êµ¬í˜„
- [ ] MyPageServiceì˜ ìœ í‹¸ ê´€ë ¨ ë©”ì„œë“œ êµ¬í˜„
- [ ] MyPageControllerì˜ ìœ í‹¸ ê´€ë ¨ í•¸ë“¤ëŸ¬ êµ¬í˜„
- [ ] API ë¼ìš°íŠ¸ ë“±ë¡ ë° í…ŒìŠ¤íŠ¸
- [ ] ì „ì²´ API í†µí•© í…ŒìŠ¤íŠ¸

### Week 2: í”„ë¡ íŠ¸ì—”ë“œ UI êµ¬í˜„ (6ì¼)

#### Day 7: ë§ˆì´í˜ì´ì§€ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
- [ ] `/mypage` í˜ì´ì§€ ë¼ìš°íŠ¸ ìƒì„±
- [ ] ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ êµ¬í˜„
- [ ] ì„¹ì…˜ ì „í™˜ ê¸°ëŠ¥ êµ¬í˜„
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì ìš©

#### Day 8-9: ë‰´ìŠ¤ ì„¹ì…˜ UI
- [ ] êµ¬ë… í‚¤ì›Œë“œ ê´€ë¦¬ UI
- [ ] í‚¤ì›Œë“œë³„ ë‰´ìŠ¤ í‘œì‹œ UI
- [ ] ë¶ë§ˆí¬ ëª©ë¡ UI
- [ ] ì½ìŒ/ì•ˆ ì½ìŒ í‘œì‹œ UI
- [ ] API ì—°ë™ ë° ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### Day 10: ì£¼ì‹ ì„¹ì…˜ UI â­ NEW
- [ ] ê´€ì‹¬ ì¢…ëª© ëª©ë¡ í‘œì‹œ
- [ ] ì‹¤ì‹œê°„ ê°€ê²© ë° ë“±ë½ë¥  í‘œì‹œ
- [ ] ë¯¸ë‹ˆ ì°¨íŠ¸ êµ¬í˜„
- [ ] ì¢…ëª© ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ UI
- [ ] ì•Œë¦¼ ì„¤ì • UI
- [ ] í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„ ëŒ€ì‹œë³´ë“œ
- [ ] API ì—°ë™ ë° ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### Day 11: ê²Œì„ ì„¹ì…˜ UI
- [ ] ê²Œì„ í†µê³„ ëŒ€ì‹œë³´ë“œ
- [ ] ê²Œì„ë³„ ìƒì„¸ í†µê³„ ì¹´ë“œ
- [ ] ë¦¬ë”ë³´ë“œ í‘œì‹œ
- [ ] ìµœê·¼ í”Œë ˆì´ ê¸°ë¡
- [ ] API ì—°ë™ ë° ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### Day 12: ìœ í‹¸ ì„¹ì…˜ UI
- [ ] ì¦ê²¨ì°¾ê¸° ë„êµ¬ UI
- [ ] ì„¤ì • ê´€ë¦¬ UI
- [ ] ì‚¬ìš© íˆìŠ¤í† ë¦¬ UI
- [ ] API ì—°ë™ ë° ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

### Week 3: í†µí•© ë° ìµœì í™” (3ì¼)

#### Day 13: ê¸°ëŠ¥ í†µí•© ë° ë²„ê·¸ ìˆ˜ì •
- [ ] ì „ì²´ ê¸°ëŠ¥ í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ë²„ê·¸ ìˆ˜ì • ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™”
- [ ] ë¡œë”© ìƒíƒœ ë° ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 

#### Day 14: ì„±ëŠ¥ ìµœì í™”
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ ì„±ëŠ¥ ê°œì„ 
- [ ] ìºì‹± ì „ëµ ì ìš© (í•„ìš” ì‹œ)
- [ ] ì‹¤ì‹œê°„ ê°€ê²© ì—…ë°ì´íŠ¸ ìµœì í™”

#### Day 15: ë°°í¬ ë° ìµœì¢… í…ŒìŠ¤íŠ¸
- [ ] Cloudflare Pages ë°°í¬
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½ í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ì¤€ë¹„
- [ ] ë¬¸ì„œí™” (README ì—…ë°ì´íŠ¸)

---

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **ì¸ì¦ ë° ê¶Œí•œ**
   - ëª¨ë“  APIëŠ” `requireAuth` ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©
   - ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥
   - SQL Injection ë°©ì–´ (Prepared Statements ì‚¬ìš©)

2. **ì…ë ¥ ê²€ì¦**
   - ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ì€ ê²€ì¦ í•„ìˆ˜
   - XSS ë°©ì–´ë¥¼ ìœ„í•œ HTML ì´ìŠ¤ì¼€ì´í”„
   - ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„° ê±°ë¶€

3. **ë°ì´í„° ë³´í˜¸**
   - ë¯¼ê°í•œ ì •ë³´ ë¡œê¹… ê¸ˆì§€
   - ì‚¬ìš©ì ê°„ ë°ì´í„° ê²©ë¦¬ (user_id í•„í„°ë§)
   - CASCADE DELETEë¡œ ì‚¬ìš©ì ì‚­ì œ ì‹œ ê´€ë ¨ ë°ì´í„° ìë™ ì‚­ì œ

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ì‚¬í•­

1. **ë‰´ìŠ¤ ì„¹ì…˜**
   - í‚¤ì›Œë“œ ìë™ ì¶”ì²œ ê¸°ëŠ¥
   - ë‰´ìŠ¤ ìš”ì•½ ê¸°ëŠ¥ (AI í™œìš©)
   - ê´€ë ¨ ë‰´ìŠ¤ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

2. **ì£¼ì‹ ì„¹ì…˜** â­ NEW
   - ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ (ì›¹í‘¸ì‹œ, ì´ë©”ì¼)
   - ì¢…ëª© ë¹„êµ ê¸°ëŠ¥
   - ê¸°ìˆ ì  ì§€í‘œ ì¶”ê°€ (RSI, MACD ë“±)
   - ë‰´ìŠ¤ì™€ ì£¼ì‹ ì—°ë™ (ê´€ë ¨ ë‰´ìŠ¤ ìë™ í‘œì‹œ)
   - í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥  ì¶”ì 

3. **ê²Œì„ ì„¹ì…˜**
   - ë„ì „ ê³¼ì œ (Achievements) ì‹œìŠ¤í…œ
   - ì¹œêµ¬ ëŒ€ê²° ê¸°ëŠ¥
   - ê²Œì„ ë¦¬í”Œë ˆì´ ê¸°ëŠ¥

4. **ìœ í‹¸ ì„¹ì…˜**
   - ì¦ê²¨ì°¾ê¸° ë„êµ¬ ì»¤ìŠ¤í„°ë§ˆì´ì§•
   - íˆìŠ¤í† ë¦¬ ê²€ìƒ‰ ê¸°ëŠ¥
   - ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV, JSON)

5. **ì „ì²´**
   - ì•Œë¦¼ ì‹œìŠ¤í…œ (ìƒˆ ë‰´ìŠ¤, ìˆœìœ„ ë³€ë™, ì£¼ê°€ ì•Œë¦¼)
   - ì†Œì…œ ê³µìœ  ê¸°ëŠ¥
   - ë‹¤í¬ ëª¨ë“œ ì§€ì›

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ë°±ì—”ë“œ êµ¬í˜„
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] íƒ€ì… ì •ì˜ ì™„ë£Œ
- [ ] ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„ ì™„ë£Œ
- [ ] ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ êµ¬í˜„ ì™„ë£Œ
- [ ] API ë¼ìš°íŠ¸ ë“±ë¡ ì™„ë£Œ
- [ ] API í…ŒìŠ¤íŠ¸ ì™„ë£Œ

### Phase 2: í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
- [ ] ë§ˆì´í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ì™„ë£Œ
- [ ] ë‰´ìŠ¤ ì„¹ì…˜ UI ì™„ë£Œ
- [ ] ì£¼ì‹ ì„¹ì…˜ UI ì™„ë£Œ â­ NEW
- [ ] ê²Œì„ ì„¹ì…˜ UI ì™„ë£Œ
- [ ] ìœ í‹¸ ì„¹ì…˜ UI ì™„ë£Œ
- [ ] API ì—°ë™ ì™„ë£Œ
- [ ] UI/UX í…ŒìŠ¤íŠ¸ ì™„ë£Œ

### Phase 3: í†µí•© ë° ë°°í¬
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ
- [ ] ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ
- [ ] Cloudflare Pages ë°°í¬ ì™„ë£Œ
- [ ] í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ë¬¸ì„œí™” ì™„ë£Œ

---

## ğŸš€ ì‹œì‘í•˜ê¸°

ì´ í”Œëœì„ ë°”íƒ•ìœ¼ë¡œ êµ¬í˜„ì„ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ë‹¤ìŒ ë‹¨ê³„ ì˜µì…˜:
1. **ì „ì²´ ì§„í–‰**: Week 1ë¶€í„° ì‹œì‘ (ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜)
2. **ë¶€ë¶„ ì§„í–‰**: íŠ¹ì • ì„¹ì…˜ë§Œ ë¨¼ì € êµ¬í˜„ (ì˜ˆ: ì£¼ì‹ ì„¹ì…˜ ìš°ì„ , ë‰´ìŠ¤ ì„¹ì…˜ë§Œ ë“±)
3. **í”Œëœ ìˆ˜ì •**: íŠ¹ì • ë¶€ë¶„ ì¡°ì • ë˜ëŠ” ì¶”ê°€ ê¸°ëŠ¥ ì œì•ˆ

## ğŸ“Š ì£¼ìš” ë³€ê²½ì‚¬í•­ ìš”ì•½

### ì¶”ê°€ëœ ê¸°ëŠ¥
1. **ì£¼ì‹ ì„¹ì…˜ (ì™„ì „ ì‹ ê·œ)**
   - ê´€ì‹¬ ì¢…ëª© ê´€ë¦¬ (ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ)
   - ì‹¤ì‹œê°„ ê°€ê²© ë° ë“±ë½ë¥  í‘œì‹œ
   - ë¯¸ë‹ˆ ì°¨íŠ¸ (ê°€ê²© ì¶”ì´)
   - ê°€ê²© ì•Œë¦¼ ì‹œìŠ¤í…œ
   - ì¢…ëª©ë³„ ë©”ëª¨ ê¸°ëŠ¥
   - í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„ ëŒ€ì‹œë³´ë“œ

### ë°ì´í„°ë² ì´ìŠ¤
- **ì¶”ê°€ í…Œì´ë¸”**: 2ê°œ
  - `user_watchlist_stocks`: ê´€ì‹¬ ì¢…ëª© ì €ì¥
  - `user_stock_alerts`: ê°€ê²© ì•Œë¦¼ ê´€ë¦¬

### API ì—”ë“œí¬ì¸íŠ¸
- **ì¶”ê°€ API**: 10ê°œ
  - ê´€ì‹¬ ì¢…ëª©: 4ê°œ (ì¶”ê°€, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ)
  - ì‹¤ì‹œê°„ ê°€ê²©: 2ê°œ (ì¼ê´„ ì¡°íšŒ, ìƒì„¸ ì •ë³´)
  - ê°€ê²© ì•Œë¦¼: 3ê°œ (ì¶”ê°€, ì¡°íšŒ, ì‚­ì œ)
  - í¬íŠ¸í´ë¦¬ì˜¤ í†µê³„: 1ê°œ

### ì¼ì •
- **ì „ì²´ ì¼ì •**: 13ì¼ â†’ 15ì¼ (2ì¼ ì¶”ê°€)
- **Week 1**: 5ì¼ â†’ 6ì¼ (ì£¼ì‹ API êµ¬í˜„ 1ì¼ ì¶”ê°€)
- **Week 2**: 5ì¼ â†’ 6ì¼ (ì£¼ì‹ UI êµ¬í˜„ 1ì¼ ì¶”ê°€)
- **Week 3**: 3ì¼ (ë³€ê²½ ì—†ìŒ)

ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
